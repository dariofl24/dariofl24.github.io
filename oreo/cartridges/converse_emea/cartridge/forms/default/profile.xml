<?xml version="1.0"?>
<form xmlns="http://www.demandware.com/xml/form/2008-04-19" secure="true" form-error="profile.error">
    <group formid="customer">
        <field formid="firstname"
                label="profile.firstname"
                type="string"
                mandatory="false"
                binding="firstName"
                max-length="50"/>

        <field formid="lastname"
                label="profile.lastname"
                type="string"
                mandatory="false"
                binding="lastName"
                max-length="50"/>

        <field formid="email"
                label="profile.email"
                type="string"
                mandatory="true"
                regexp="^[\w\.%-]+@[\w\.-]+\.[\w]{2,6}$"
                parse-error="profile.emailparseerror"
                binding="email"
                max-length="50"
                value-error="profile.usernametaken"/>
                
        <field formid="birthday"
               label="login.birthdate"
               type="date"
               mandatory="true"
               regexp="^(0?[1-9]|[12][0-9]|3[01])[\.|\/|-](0?[1-9]|1[012])[\.|\/|-]\d{4}$"
               parse-error="profile.birthday.invalid"
               binding="birthday"
               value-error="profile.birthday.minage.error"/>

        <field formid="emailconfirm"
                label="Confirm Email"
                type="string"
                mandatory="true"
                regexp="^[\w\.%-]+@[\w\.-]+\.[\w]{2,6}$"
                parse-error="profile.emailparseerror"
                value-error="profile.emailnomatch"
                max-length="50"/>

        <field formid="gender"
                label="profile.gender"
                type="string"
                mandatory="false"
                binding="gender"/>

        <include formid="regional" name="regionalprofilefields"/>

        <field formid="photoURL"
                label="profile.photoURL"
                type="string"
                mandatory="false"
                binding="custom.photoURL"/>

        <field formid="thumbnailURL"
                label="profile.thumbnailURL"
                type="string"
                mandatory="false"
                binding="custom.thumbnailURL"/>

        <action formid="editprofile" valid-form="true"/>
    </group>

    <group formid="login">
        <field formid="username"
                label="label.username"
                description="forms.5_100characters"
                type="string"
                mandatory="true"
                binding="login"
                regexp="^[-\w\.@_]{5,100}$"
                parse-error="profile.usernameerror"
                value-error="profile.usernametaken" />

        <field formid="oldpassword"
                label="profile.oldpassword"
                type="string"
                mandatory="false"
                min-length="8"
                max-length="255"
                range-error="forms.8_255characters" />

        <field formid="newpassword"
                label="profile.newpassword"
                type="string"
                mandatory="false"
                min-length="8"
                max-length="255"
                range-error="forms.8_255characters"/>

        <field formid="password"
                label="label.password"
                type="string"
                mandatory="true"
                min-length="8"
                max-length="255"
                range-error="forms.8_255characters"/>

        <field formid="question"
                label="profile.accountquestion"
                type="string"
                mandatory="true"
                binding="passwordQuestion">

            <options>
                <option optionid="MothersMaidenName" value="Mother's Maiden Name" label="profile.question1"/>
                <option optionid="MakeOfFirstCar" value="Make of First Car" label="profile.question2"/>
                <option optionid="FavouritePetsName" value="Favourite Pet's Name" label="profile.question3"/>
                <option optionid="FathersFirstName" value="Father's First Name" label="profile.question4"/>
                <option optionid="PlaceOfBirth" value="Place of Birth" label="profile.question5"/>
            </options>
        </field>

        <field formid="answer"
                label="profile.accountanswer"
                type="string"
                mandatory="true"
                binding="passwordAnswer"
                max-length="50"/>

        <field formid="rememberme"
                label="profile.remember"
                type="boolean"
                mandatory="false" />

        <field formid="newsletter"
               label="login.newsletter"
               type="boolean"
               mandatory="true"
               binding="newsletter"
               default-value="false"/>

        <action formid="editlogin" valid-form="true"/>
    </group>

    <include formid="address" name="customeraddress"/>

    <group formid="addressbook">
        <list formid="addresses">
            <action formid="edit" valid-form="false"/>
            <action formid="remove" valid-form="false"/>
        </list>
        <action formid="add" valid-form="false"/>
    </group>

    <action formid="confirm" valid-form="true"/>
    <action formid="register" valid-form="true"/>
    <action formid="cancel" valid-form="false"/>
</form>
