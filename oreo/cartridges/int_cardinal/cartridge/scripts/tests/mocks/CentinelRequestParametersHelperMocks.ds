importPackage(dw.system);

importScript("converse_core:constants.ds");
importScript("converse_core:common/libInheritance.ds");
importScript("converse_core:common/libNamespace.ds");

importScript("converse_core:cart/objects/BasketSummary.ds")

importScript("module_test:Mocks/BasketSummaryMocks.ds");

(function(){
    var MockRequest = Class.extend({
        init : function (version : String, processorId : String, transactionPwd : String, transactionType : String,
         transactionAction : String,  merchantId : String, basketSummary : BasketSummary){
            this.configuration.version = version;
            this.configuration.processorId = processorId;
            this.configuration.transactionPwd = transactionPwd;
            this.configuration.transactionType = transactionType;
            this.configuration.transactionAction = transactionAction;
            this.configuration.merchantId = merchantId;
            this.configuration.merchantProcessorAliases["REGULAR"] = merchantId+"REG";
            this.basket = basketSummary;
        },
        
        configuration : {
            version : null,
            processorId :null,
            transactionPwd : null,
            transactionType : null,
            transactionAction : null,
            merchantId : null,
            merchantProcessorAliases:{}
        },
        
        messageType : function(){
            return "cmpi_lookup"
        }
    });

    Namespace.extend(converse, { 
        test: { 
            mocks: {
               MockRequest : MockRequest
            }
        }
    }); 
})();