*** Settings ***
Library         Selenium2Library
Library         String
Resource        site_declarations.txt
Resource        common.txt
Resource        common_keywords.txt

*** Variables ***
${URL_RUBBERTRACKS}  /default/RubberTracks-Show
${FAQ_SIDEBAR}  //div[@class='faq-sidebar']
${REGION_DETAILS}  //div[contains (@class,'region-details')]
${BANNER_IMAGE}  //div[@id='banner']//img
${RT_FIRSTNAME}  dwfrm_rubbertracks_firstname
${RT_LASTTNAME}  dwfrm_rubbertracks_lastname
${RT_EMAIL}     dwfrm_rubbertracks_email
${RT_PHONE}     dwfrm_rubbertracks_phone
${RT_CITY}      dwfrm_rubbertracks_city
${RT_STATE}     dwfrm_rubbertracks_states_stateCode
${RT_COUNTRY}   dwfrm_rubbertracks_countries_countryCode
${RT_BANDNAME}  dwfrm_rubbertracks_bandname
${RT_BANDDESCRIPTION}  dwfrm_rubbertracks_banddescription
${RT_SONGNUMBER}  dwfrm_rubbertracks_songs
${RT_SONGGOAL}  dwfrm_rubbertracks_goals
${RT_SONGALONG}  dwfrm_rubbertracks_stages
${RT_SONGGENRE}  dwfrm_rubbertracks_genres
${RT_SIGNUPCENTER}  signupcenter
${RT_GUITARCENTER}  guitarcenter
${RT_TERMSANDCONDITIONS}  dwfrm_rubbertracks_acceptedtermsandconditions
${SUBMIT}       dwfrm_rubbertracks_register
${RT_MANDATORY_MESSAGES}  //li[@class='required']

*** Keywords ***
Go To Rubbertracks Page
  ${siteURL} =  Catenate  http://@{LIST_ENVIRONMENT}[${env_id}]${homepageUrl}@{ENV_SUFFIX}[${env_id}]${URL_RUBBERTRACKS}
  Log  ${siteURL}
  Go To  ${siteURL}
  Wait Until Page Contains  Rubber Tracks Registration

Rubbertracks Page Validations
  Wait Until Page Contains Element  ${FAQ_SIDEBAR}
  Wait Until Page Contains Element  ${REGION_DETAILS}[1]
  Wait Until Page Contains Element  ${REGION_DETAILS}[2]
  Wait Until Page Contains Element  ${REGION_DETAILS}[3]
  Wait Until Page Contains Element  ${BANNER_IMAGE}

Verifies Mandatory Messages by Number
  Click Button  ${SUBMIT}
  Wait Until Page Contains  Please agree to the terms and conditions.
  Xpath Should Match X Times  ${RT_MANDATORY_MESSAGES}  13

Filling Rubbertracks Data
  Input Text  ${RT_FIRSTNAME}  Robot Band Name
  Input Text  ${RT_LASTTNAME}  Robot Band Last Name
  Input Text  ${RT_EMAIL}  ${validSite_user}
  Input Text  ${RT_PHONE}  333-333-3333
  Input Text  ${RT_CITY}  New York
  Select From List By Label  ${RT_STATE}  New York
  Select From List By Label  ${RT_COUNTRY}  United States
  Input Text  ${RT_BANDNAME}  Robot Framework Band Name
  Input Text  ${RT_BANDDESCRIPTION}  Automated Register for Regression Testing
  Select From List By Value  ${RT_SONGNUMBER}  rubbertracks.songs.2
  Select From List By Value  ${RT_SONGGOAL}  rubbertracks.goals.2
  Select From List By Value  ${RT_SONGALONG}  rubbertracks.stages.4
  Select From List By Value  ${RT_SONGGENRE}  rubbertracks.genres.7
  Select Checkbox  ${RT_SIGNUPCENTER}
  Select Checkbox  ${RT_GUITARCENTER}
  Select Checkbox  ${RT_TERMSANDCONDITIONS}
  Click Button  ${SUBMIT}
  Wait Until Page Contains  Thanks for signing up!
