*** Settings ***
Resource        demandware_marketing_definitions.txt
Resource        site_declarations.txt
Resource        checkout_definitions.txt

*** Variables ***
${S_SHIPPINGDISCOUNT}  //div[@class='order-row shipping-discount']//span[contains(text(),'Shipping Discount')]
${S_SHIPPINGDISCOUNTAMOUNT}  //div[@class='order-row shipping-discount']//span[@class='price']

*** Keywords ***
Verify Promotion Set Is Displayed
  [Arguments]  ${standard_promotion}  ${standard_campaign}  ${test_Promotion}  ${description}
  Open Demandware
  Set Up Standard Promotion  ${standard_promotion}  ${standard_campaign}  ${test_Promotion}
  Close All Browsers
  Open Browser to Converse Site
  Check Global Promo Banner  ${standard_promotion}  ${description}

Check Global Promo Banner
  [Arguments]  ${standard_promotion}  ${description}
  Wait Until Page Contains Element  //li[@data-promo-id='${standard_promotion}']//div[@class='promo-content'][contains(text(),'${description}')]

Verify Promotion Is Applied In Checkout
  [Arguments]  ${standard_promotion}  ${description}
  Start Checkout
  Continue checkout with Credit Card
  Verify Promotion Is Applied In Summary

Verify Promotion Is Applied In Summary
  Wait Until Page Contains Element  ${S_SHIPPINGDISCOUNT}
  Wait Until Page Contains Element  ${S_SHIPPINGDISCOUNTAMOUNT}
